\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{setupscript-layout}[2014/08/06 Layout options for setupscript]

% Close \sqrt{}'s, use \oldsqrt for old behavior
\LetLtxMacro{\oldsqrt}{\sqrt}
\renewcommand{\sqrt}[1][\ ]{%
  \def\DHLindex{#1}\mathpalette\DHLhksqrt}
\def\DHLhksqrt#1#2{%
  \setbox0=\hbox{$#1\oldsqrt[\DHLindex]{#2\,}$}\dimen0=\ht0
  \advance\dimen0-0.2\ht0
  \setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
  {\box0\lower0.71pt\box2}}


% Math definitions/environments, not for beamer
\if@beamer\else
  \mdfdefinestyle{theoremstyle}{%
      linecolor = gray!20,
      linewidth = 1pt,
      innerleftmargin = 5pt,
      innerrightmargin = 5pt,
      innertopmargin = 0pt,
      leftmargin = 0pt,
      rightmargin = 0pt,
      frametitlerule = true,
      frametitlebackgroundcolor = gray!20,
      innertopmargin = \topskip,
      middlelinewidth = 1pt,
      ntheorem = true,
      nobreak = true
  }
  \theorempreskip{5pt}
  \theorempostskip{10pt}
  \newcounter{mycounter}[section]
  %Example: \mdtheorem[<mdframed−options>]{<envname>}[<numberedlike>]{<caption>}[<within>]
  \mdtheorem[style=theoremstyle]{proposition}[mycounter]{Proposition}[section]
  \mdtheorem[style=theoremstyle]{theorem}[mycounter]{Theorem}[section]
  \mdtheorem[style=theoremstyle]{definition}[mycounter]{Definition}[section]
  \mdtheorem[style=theoremstyle]{corollary}[mycounter]{Corollary}[section]
  \mdtheorem[style=theoremstyle]{lemma}[mycounter]{Lemma}[section]
  \mdtheorem[style=theoremstyle]{remark}[mycounter]{Remark}[section]
  %\crefformat{definition}{definition~#2#1#3}
  %\crefformat{proposition}{proposition~#2#1#3}
  %\crefformat{theorem}{theorem~#2#1#3}
  %\crefformat{corollary}{corollary~#2#1#3}
  %\crefformat{lemma}{lemma~#2#1#3}
  %\crefformat{remark}{remark~#2#1#3}
\fi


%% ############################################################################
%% ##################### MEMOIR ###############################################
%% ############################################################################
\if@memoir

% Parskip (not recommended)
\setlength{\parindent}{0pt}
\nonzeroparskip
\abnormalparskip{8pt}
%

\counterwithout{footnote}{chapter} % continous numbering of footnotes

% % Headstyles for chapter mode (not article)
% \headstyles{ntglike}
% \chapterstyle{dash}
% \setlength{\beforechapskip}{25pt} % Remove extra spacing before chapter
% \setlength{\midchapskip}{5pt}
% \setlength{\afterchapskip}{15pt}
% \renewcommand*{\chapnamefont}{\huge\bfseries}
% %

% % Page style
% \makepagestyle{mypagestyle}
%     \setheadfoot{30pt}{15pt}
%     \makeevenhead{mypagestyle}{}{}{}% Even page header
%     \makeoddhead{mypagestyle}{}{}{}% Odd page header
%     \makeevenfoot{mypagestyle}{}{\thepage}{}% Even page footer
%     \makeoddfoot{mypagestyle}{}{\thepage}{}% Odd page footer
% \pagestyle{mypagestyle}
% \aliaspagestyle{title}{mypagestyle}

% Heading styles

% \makechapterstyle{adamschapter}{
%     \renewcommand{\printchaptername}{}
%     \renewcommand{\chapternamenum}{}
%     \renewcommand{\chapnumfont}{\normalfont\Huge\bfseries}
%     \renewcommand{\printchapternum}{\chapnumfont \thechapter.\space}
%     \renewcommand{\afterchapternum}{}
% }
% %\chapterstyle{dash}
% \chapterstyle{adamschapter}
% \setlength{\beforechapskip}{25pt} % Remove extra spacing before chapter
% \setlength{\midchapskip}{0pt}
% \setlength{\afterchapskip}{15pt}

% % \makeheadstyles{adamsheads}{
% %     \renewcommand*{\chapnamefont}{\normalfont\huge\bfseries}
% %     \renewcommand*{\chapnumfont}{\normalfont\huge\bfseries}
% %     \renewcommand*{\chaptitlefont}{\normalfont\Huge\bfseries}
% % }
% %\headstyles{default}
% \headstyles{adams}

\fi

%% ############################################################################
%% ##################### BEAMER ###############################################
%% ############################################################################
\if@beamer

\usetheme[height=0mm]{Rochester}
\usecolortheme[RGB={71,98,176}]{structure}
\useoutertheme[subsection=false]{miniframes}
\useinnertheme{rectangles}

\setbeamercovered{transparent}
\beamertemplatenavigationsymbolsempty

\setbeamerfont{title like}{shape=\scshape}
\setbeamerfont{frametitle}{shape=\scshape}

% \setbeamercolor*{lower separation line head}{bg=black}
% \setbeamercolor*{normal text}{fg=black,bg=white}
% \setbeamercolor*{alerted text}{fg=red}
% \setbeamercolor*{example text}{fg=black}
% \setbeamercolor*{structure}{fg=black}

\setbeamercolor*{palette tertiary}{fg=black,bg=black!10}
\setbeamercolor*{palette quaternary}{fg=black,bg=black!10}

% Kind of bad for beamer!
\RequirePackage{enumitem}               % Needed to easily change space between itemize and labels
\setlist[itemize,1]{itemsep=1em}        % When using enumitem this is needed
\setlist[itemize]{label=\scriptsize$\blacksquare$}

% This code makes miniframe signs be on same row as sections
\usepackage{etoolbox}
\makeatletter
\patchcmd{\slideentry}{\advance\beamer@tempdim by -.05cm}{\advance\beamer@tempdim by\beamer@vboxoffset\advance\beamer@tempdim by\beamer@boxsize\advance\beamer@tempdim by 0.9\pgflinewidth}{}{}
\patchcmd{\slideentry}{\kern\beamer@tempdim}{\advance\beamer@tempdim by 2pt\advance\beamer@tempdim by\wd\beamer@sectionbox\kern\beamer@tempdim}{}{}
\makeatother

% % Definiert die headline
% \setbeamertemplate{headline}
% {
% \includegraphics[width=0.15\paperwidth]{logopolito} % test logo
% \begin{beamercolorbox}[wd=.85\paperwidth,right]{section in head/foot}
%     \rule{0.85\paperwidth}{1pt}
%     %Vertikaler Abstand
%     \vskip10pt
%     %Fügt die Standard-Navi ein (miniframes)
%     \insertnavigation{0.85\paperwidth}
%     \vskip8pt
%     \rule{0.85\paperwidth}{0.5pt}
%     \vskip27.5pt % same height of the example provided, but IMHO is too much
%     \rule{0.85\paperwidth}{1pt}
% \end{beamercolorbox}
% }

% % definition of the frametitle
% \setbeamertemplate{frametitle}
% {
% \vskip-24pt % to shift up the frametitle
% \hbox{
%  \begin{beamercolorbox}[wd=.0675\textwidth]{} % left shift
%  \end{beamercolorbox}
%  \begin{beamercolorbox}[sep=4pt]{section in head/foot}
%  \insertframetitle
%  \end{beamercolorbox}
%  }
% }

% \renewcommand{\(}{\begin{columns}}
% \renewcommand{\)}{\end{columns}}
% \newcommand{\<}[1]{\begin{column}{#1}}
% \renewcommand{\>}{\end{column}}

% Load TOC for section at start of every section
\setbeamerfont{tocfont}{series=\bfseries,size=\Large}
\AtBeginSection[]
{
  \begin{frame}
    \frametitle{Outline}
    \usebeamerfont{tocfont}
    \tableofcontents[currentsection, sectionstyle=show/shaded, subsectionstyle=hide]
  \end{frame}
}

% %% FOOTER
% % \useoutertheme{infolines}
% \beamertemplatenavigationsymbolsempty   % No navigation
% % \setfootline{
% %     \insertshortinstitute, \insertshortdate
% %     \hfill slide \insertframenumber/\inserttotalframenumber
% % }

%     \setbeamertemplate{footline}
%     {
%       \leavevmode%
%       \hbox{%
%       \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
%         \usebeamerfont{author in head/foot}\insertsection
%       \end{beamercolorbox}%
%       \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
%         \usebeamerfont{title in head/foot}\insertsubsection
%       \end{beamercolorbox}%
%       \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
%         \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
%         \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
%       \end{beamercolorbox}}%
%       \vskip0pt%
%     }
%     \makeatother

% % \setbeamertemplate{title page}
% % {
% %     %\pgfuseimage{toptitle}
% %     \vskip0pt plus 1filll
% %     \begin{centering}
% %     {\usebeamerfont{title}\usebeamercolor[fg]{title}\inserttitle}
% %     \insertdate
% %     \end{centering}
% %     \vskip0pt plus 1filll
% %     %\pgfuseimage{bottomtitle}
% % }


\fi

\endinput
